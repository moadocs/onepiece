<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta data-n-head="ssr" charset="utf-8">
        <meta data-n-head="ssr" name="robots" content="noindex">
        <meta data-n-head="ssr" name="format-detection" content="telephone=no">
        <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">
        <meta data-n-head="ssr" data-hid="og:title" property="og:title" content="원피스빵 띠부띠부씰 도감 ver 1.0">
        <meta data-n-head="ssr" data-hid="og:description" property="og:description" content="pokedocs 로 만든 원피스빵 도감">
                <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1W722HT2CM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1W722HT2CM');
</script>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3067887546047208"
     crossorigin="anonymous"></script>
        <title>원피스빵 띠부띠부씰 도감 ver 1.0</title>
        <style>
            .selected {background-color: rgba(0,0,0,0.7);}
            .jjang01 {background:url("./image/onepiece.jpeg"); background-size: 1144px 1550px;}
            .image {position:relative; display:inline-block; width:116px; height:156px; margin: 1px; cursor:pointer;}
            .image > div {width:100%; height:100%; position:absolute; border: 1px solid black;}
            .img00 {background-position: -0px -0px}
            .img01 {background-position: -114px -0px}
            .img02 {background-position: -228px -0px}
            .img03 {background-position: -342px -0px}
            .img04 {background-position: -456px -0px}
            .img05 {background-position: -570px -0px}
            .img06 {background-position: -684px -0px}
            .img07 {background-position: -798px -0px}
            .img08 {background-position: -912px -0px}
            .img09 {background-position: -1026px -0px}
            .img10 {background-position: -0px -155px}
            .img11 {background-position: -114px -155px}
            .img12 {background-position: -228px -155px}
            .img13 {background-position: -342px -155px}
            .img14 {background-position: -456px -155px}
            .img15 {background-position: -570px -155px}
            .img16 {background-position: -684px -155px}
            .img17 {background-position: -798px -155px}
            .img18 {background-position: -912px -155px}
            .img19 {background-position: -1026px -155px}
            .img20 {background-position: -0px -310px}
            .img21 {background-position: -114px -310px}
            .img22 {background-position: -228px -310px}
            .img23 {background-position: -342px -310px}
            .img24 {background-position: -456px -310px}
            .img25 {background-position: -570px -310px}
            .img26 {background-position: -684px -310px}
            .img27 {background-position: -798px -310px}
            .img28 {background-position: -912px -310px}
            .img29 {background-position: -1026px -310px}
            .img30 {background-position: -0px -465px}
            .img31 {background-position: -114px -465px}
            .img32 {background-position: -228px -465px}
            .img33 {background-position: -342px -465px}
            .img34 {background-position: -456px -465px}
            .img35 {background-position: -570px -465px}
            .img36 {background-position: -684px -465px}
            .img37 {background-position: -798px -465px}
            .img38 {background-position: -912px -465px}
            .img39 {background-position: -1026px -465px}
            .img40 {background-position: -0px -620px}
            .img41 {background-position: -114px -620px}
            .img42 {background-position: -228px -620px}
            .img43 {background-position: -342px -620px}
            .img44 {background-position: -456px -620px}
            .img45 {background-position: -570px -620px}
            .img46 {background-position: -684px -620px}
            .img47 {background-position: -798px -620px}
            .img48 {background-position: -912px -620px}
            .img49 {background-position: -1026px -620px}
            .img50 {background-position: -0px -775px}
            .img51 {background-position: -114px -775px}
            .img52 {background-position: -228px -775px}
            .img53 {background-position: -342px -775px}
            .img54 {background-position: -456px -775px}
            .img55 {background-position: -570px -775px}
            .img56 {background-position: -684px -775px}
            .img57 {background-position: -798px -775px}
            .img58 {background-position: -912px -775px}
            .img59 {background-position: -1026px -775px}
            .img60 {background-position: -0px -930px}
            .img61 {background-position: -114px -930px}
            .img62 {background-position: -228px -930px}
            .img63 {background-position: -342px -930px}
            .img64 {background-position: -456px -930px}
            .img65 {background-position: -570px -930px}
            .img66 {background-position: -684px -930px}
            .img67 {background-position: -798px -930px}
            .img68 {background-position: -912px -930px}
            .img69 {background-position: -1026px -930px}
            .img70 {background-position: -0px -1085px}
            .img71 {background-position: -114px -1085px}
            .img72 {background-position: -228px -1085px}
            .img73 {background-position: -342px -1085px}
            .img74 {background-position: -456px -1085px}
            .img75 {background-position: -570px -1085px}
            .img76 {background-position: -684px -1085px}
            .img77 {background-position: -798px -1085px}
            .img78 {background-position: -912px -1085px}
            .img79 {background-position: -1026px -1085px}
            .img80 {background-position: -0px -1240px}
            .img81 {background-position: -114px -1240px}
            .img82 {background-position: -228px -1240px}
            .img83 {background-position: -342px -1240px}
            .img84 {background-position: -456px -1240px}
            .img85 {background-position: -570px -1240px}
            .img86 {background-position: -684px -1240px}
            .img87 {background-position: -798px -1240px}
            .img88 {background-position: -912px -1240px}
            .img89 {background-position: -1026px -1240px}
            .img90 {background-position: -0px -1395px}
            .img91 {background-position: -114px -1395px}
            .img92 {background-position: -228px -1395px}
            .img93 {background-position: -342px -1395px}
            .img94 {background-position: -456px -1395px}
            .img95 {background-position: -570px -1395px}
            .img96 {background-position: -684px -1395px}
            .img97 {background-position: -798px -1395px}
            .img98 {background-position: -912px -1395px}
            .img99 {background-position: -1026px -1395px}
            body {background-color: black;}
            .btnDiv {margin-top:20px;}
            .title {text-align:center; font-size:20px; margin-bottom:20px; color:white;}
            .menu {text-align:right; font-size:20px; margin-bottom:20px; color:white;}
            .menu a {text-decoration: none; text-align:right; font-size:20px; margin-bottom:20px; color:white;}
            .linkStr {width:100%; max-width: 300px; margin-top:10px;}
            .linkLabel, .checkCnt {color:white; margin-bottom: 10px;}
            .textDiv {color:white; margin-top:20px;}
            .textDiv ul {list-style: decimal; padding-left:20px; margin-top:5px;}
            .textDiv ul li span {color:crimson;}
        </style>
    </head>
    <body>
        <div class="title">원피스빵 띠부띠부씰 도감 ver 1.0</div>
        <ins class="kakao_ad_area" style="display:none;"
        data-ad-unit = "DAN-9aSR9NK2SSZf6ru4"
        data-ad-width = "320"
        data-ad-height = "50"></ins>
        <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
                <div class="checkCnt">(<span id="cnt">0</span>/100)
                    <input type="button" id="delBtn" value="흑백 씰 숨기기"/>
                    <input type="button" id="showBtn" value="숨긴 씰 보기"/>
                </div>
        <div id="imageDiv">
            <div class="image jjang01 img00"><div></div></div>
            <div class="image jjang01 img01"><div></div></div>
            <div class="image jjang01 img02"><div></div></div>
            <div class="image jjang01 img03"><div></div></div>
            <div class="image jjang01 img04"><div></div></div>
            <div class="image jjang01 img05"><div></div></div>
            <div class="image jjang01 img06"><div></div></div>
            <div class="image jjang01 img07"><div></div></div>
            <div class="image jjang01 img08"><div></div></div>
            <div class="image jjang01 img09"><div></div></div>
            <div class="image jjang01 img10"><div></div></div>
            <div class="image jjang01 img11"><div></div></div>
            <div class="image jjang01 img12"><div></div></div>
            <div class="image jjang01 img13"><div></div></div>
            <div class="image jjang01 img14"><div></div></div>
            <div class="image jjang01 img15"><div></div></div>
            <div class="image jjang01 img16"><div></div></div>
            <div class="image jjang01 img17"><div></div></div>
            <div class="image jjang01 img18"><div></div></div>
            <div class="image jjang01 img19"><div></div></div>
            <div class="image jjang01 img20"><div></div></div>
            <div class="image jjang01 img21"><div></div></div>
            <div class="image jjang01 img22"><div></div></div>
            <div class="image jjang01 img23"><div></div></div>
            <div class="image jjang01 img24"><div></div></div>
            <div class="image jjang01 img25"><div></div></div>
            <div class="image jjang01 img26"><div></div></div>
            <div class="image jjang01 img27"><div></div></div>
            <div class="image jjang01 img28"><div></div></div>
            <div class="image jjang01 img29"><div></div></div>
            <div class="image jjang01 img30"><div></div></div>
            <div class="image jjang01 img31"><div></div></div>
            <div class="image jjang01 img32"><div></div></div>
            <div class="image jjang01 img33"><div></div></div>
            <div class="image jjang01 img34"><div></div></div>
            <div class="image jjang01 img35"><div></div></div>
            <div class="image jjang01 img36"><div></div></div>
            <div class="image jjang01 img37"><div></div></div>
            <div class="image jjang01 img38"><div></div></div>
            <div class="image jjang01 img39"><div></div></div>
            <div class="image jjang01 img40"><div></div></div>
            <div class="image jjang01 img41"><div></div></div>
            <div class="image jjang01 img42"><div></div></div>
            <div class="image jjang01 img43"><div></div></div>
            <div class="image jjang01 img44"><div></div></div>
            <div class="image jjang01 img45"><div></div></div>
            <div class="image jjang01 img46"><div></div></div>
            <div class="image jjang01 img47"><div></div></div>
            <div class="image jjang01 img48"><div></div></div>
            <div class="image jjang01 img49"><div></div></div>
            <div class="image jjang01 img50"><div></div></div>
            <div class="image jjang01 img51"><div></div></div>
            <div class="image jjang01 img52"><div></div></div>
            <div class="image jjang01 img53"><div></div></div>
            <div class="image jjang01 img54"><div></div></div>
            <div class="image jjang01 img55"><div></div></div>
            <div class="image jjang01 img56"><div></div></div>
            <div class="image jjang01 img57"><div></div></div>
            <div class="image jjang01 img58"><div></div></div>
            <div class="image jjang01 img59"><div></div></div>
            <div class="image jjang01 img60"><div></div></div>
            <div class="image jjang01 img61"><div></div></div>
            <div class="image jjang01 img62"><div></div></div>
            <div class="image jjang01 img63"><div></div></div>
            <div class="image jjang01 img64"><div></div></div>
            <div class="image jjang01 img65"><div></div></div>
            <div class="image jjang01 img66"><div></div></div>
            <div class="image jjang01 img67"><div></div></div>
            <div class="image jjang01 img68"><div></div></div>
            <div class="image jjang01 img69"><div></div></div>
            <div class="image jjang01 img70"><div></div></div>
            <div class="image jjang01 img71"><div></div></div>
            <div class="image jjang01 img72"><div></div></div>
            <div class="image jjang01 img73"><div></div></div>
            <div class="image jjang01 img74"><div></div></div>
            <div class="image jjang01 img75"><div></div></div>
            <div class="image jjang01 img76"><div></div></div>
            <div class="image jjang01 img77"><div></div></div>
            <div class="image jjang01 img78"><div></div></div>
            <div class="image jjang01 img79"><div></div></div>
            <div class="image jjang01 img80"><div></div></div>
            <div class="image jjang01 img81"><div></div></div>
            <div class="image jjang01 img82"><div></div></div>
            <div class="image jjang01 img83"><div></div></div>
            <div class="image jjang01 img84"><div></div></div>
            <div class="image jjang01 img85"><div></div></div>
            <div class="image jjang01 img86"><div></div></div>
            <div class="image jjang01 img87"><div></div></div>
            <div class="image jjang01 img88"><div></div></div>
            <div class="image jjang01 img89"><div></div></div>
            <div class="image jjang01 img90"><div></div></div>
            <div class="image jjang01 img91"><div></div></div>
            <div class="image jjang01 img92"><div></div></div>
            <div class="image jjang01 img93"><div></div></div>
            <div class="image jjang01 img94"><div></div></div>
            <div class="image jjang01 img95"><div></div></div>
            <div class="image jjang01 img96"><div></div></div>
            <div class="image jjang01 img97"><div></div></div>
            <div class="image jjang01 img98"><div></div></div>
            <div class="image jjang01 img99"><div></div></div>
        </div>
        <div class="btnDiv">
            <input type="button" id="reverseBtn" value="선택반전"/>
            <input type="button" id="saveBtn" value="이미지저장"/>
            <input type="button" id="linkBtn" value="링크복사"/>
            <div>
                <textarea id="linkStr" class="linkStr" >https://moadocs.github.io/onepiece/?code=</textarea>
            </div>
        </div>
        <div class="textDiv">
            <span>※ 사용법</span>
            <ul>
                <li>띠부씰 클릭 : 띠부씰이 선택 됩니다.</li>
                <li>선택반전 : 선택한 띠부씰이 반전 됩니다.</li>
                <li>이미지저장 : 현재 선택된 상태로 이미지가 저장됩니다. <br><span>* 현재 화면의 배열대로 저장되기 때문에 창크기 조절 후 이미지 저장 하시면 원하는 배열로 저장 됩니다. (PC에서 하는것을 추천)</span></li>
                <li>링크복사 : 현재 선택된 띠부씰이 포함된 URL을 복사합니다 <br><span>* 복사한 URL로 접속시 선택한 띠부씰이 유지됩니다.</span></li>
            </ul>
        </div>
        <ins class="kakao_ad_area" style="display:none;"
data-ad-unit = "DAN-9aSR9NK2SSZf6ru4"
data-ad-width = "320"
data-ad-height = "50"></ins>
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    
    </body>
</html>
<script src="./js/html2canvas.min.js"></script>
<script>
    var url = 'https://moadocs.github.io/onepiece/?code=';
    var digits = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_';
    var binArray = ['000000','000001','000010','000011','000100','000101','000110','000111',
                      '001000','001001','001010','001011','001100','001101','001110','001111',
                      '010000','010001','010010','010011','010100','010101','010110','010111',
                      '011000','011001','011010','011011','011100','011101','011110','011111',
                      '100000','100001','100010','100011','100100','100101','100110','100111',
                      '101000','101001','101010','101011','101100','101101','101110','101111',
                      '110000','110001','110010','110011','110100','110101','110110','110111',
                      '111000','111001','111010','111011','111100','111101','111110','111111'];
    var query = window.location.search;
    var param = new URLSearchParams(query);
    var code = param.get('code');

    var image = document.querySelectorAll('.image > div');
    var decoded = decode(code);
    for (var i = 0 ; i < image.length; i++) {
        if(decoded && decoded[i] == '1') {
            image[i].classList.toggle("selected");
        }

        image[i].addEventListener('click', function(event){
            event.target.classList.toggle("selected");

            createLink();
        });
    }
    createLink();

    var delBtn = document.getElementById('delBtn');
    delBtn.addEventListener('click', function(event){
        var image = document.querySelectorAll('.selected');
        for (var i = 0 ; i < image.length; i++) {
            image[i].parentElement.style.display = "none"; 
        }
    });

    var showBtn = document.getElementById('showBtn');
    showBtn.addEventListener('click', function(event){
        var image = document.querySelectorAll('.image');
        for (var i = 0 ; i < image.length; i++) {
            image[i].style.display = ""; 
        }
    });
    
    var reverseBtn = document.getElementById('reverseBtn');
    reverseBtn.addEventListener('click', function(event){
        var image = document.querySelectorAll('.image > div');

        for (var i = 0 ; i < image.length; i++) {
            image[i].classList.toggle("selected");
        }

        createLink();
    });

    var saveBtn = document.getElementById('saveBtn');
    saveBtn.addEventListener('click', function(event){
        html2canvas(document.querySelector("#imageDiv")).then(function(canvas){
            var myImage = canvas.toDataURL();
            var link = document.createElement('a');
            link.download = 'onepiece.png';
            link.href = myImage;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });
    });

    var linkBtn = document.getElementById('linkBtn');
    linkBtn.addEventListener('click', function(event){
        var content = document.getElementById('linkStr');
    
        content.select();
        document.execCommand('copy');
        content.setSelectionRange(0, 0);

        alert("링크가 복사되었습니다!");
    });
    
    function createLink() {
        var image = document.querySelectorAll('.image > div');
        var codeStr = '';
        var cnt = 0;

        for (var i = 0 ; i < image.length; i++) {
            codeStr += (image[i].classList.contains('selected')?'1':'0');
            
            if(image[i].classList.contains('selected')) {
                cnt++;
            }
        }
        var linkStr = document.getElementById('linkStr');
        linkStr.value = url + encode(codeStr + '0000');

        var cntStr = document.getElementById('cnt');
        cntStr.innerHTML = cnt;
    }

    function decode(code) {
        if(code) {
            var decodedCode = '';
            for(var i = 0; i < code.length; i++) {
                decodedCode += binArray[digits.indexOf(code[i])];
            }
            return decodedCode;
        }
        return code;
    }

    function encode(code) {
        var encodedCode = '';
        for(var i = 0; i < (parseInt(code.length/6)); i++) {
            encodedCode += digits.charAt(parseInt(code.substr(i*6,6),2));
        }
        return encodedCode;
    }
</script>
